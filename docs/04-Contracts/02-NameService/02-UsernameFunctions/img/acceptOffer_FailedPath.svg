<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2056px" preserveAspectRatio="none" style="width:996px;height:2056px;background:#FFFFFF;" version="1.1" viewBox="0 0 996 2056" width="996px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="234" x="382" y="27.9951">acceptOffer Transaction Flow</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="227" x="385.5" y="44.292">(Failed Path - Error Handling)</text><rect fill="#00CEEE" height="1800.0078" style="stroke:#181818;stroke-width:1.0;" width="10" x="369" y="166.0234"/><rect fill="#00EE20" height="268.6719" style="stroke:#181818;stroke-width:1.0;" width="10" x="730" y="865.4297"/><rect fill="#00EE20" height="160.4688" style="stroke:#181818;stroke-width:1.0;" width="10" x="730" y="1234.5"/><rect fill="#00EE20" height="160.4688" style="stroke:#181818;stroke-width:1.0;" width="10" x="730" y="1604.8984"/><rect fill="#F5B7B1" height="1735.875" style="stroke:#000000;stroke-width:1.5;" width="979" x="10" y="223.1563"/><rect fill="#FFFFFF" height="1668.4766" style="stroke:none;stroke-width:1.0;" width="979" x="10" y="290.5547"/><rect fill="#F5B7B1" height="1597.5391" style="stroke:#000000;stroke-width:1.5;" width="959" x="20" y="354.4922"/><rect fill="#FFFFFF" height="1536.1406" style="stroke:none;stroke-width:1.0;" width="959" x="20" y="415.8906"/><rect fill="#F5B7B1" height="1465.2031" style="stroke:#000000;stroke-width:1.5;" width="939" x="30" y="479.8281"/><rect fill="#FFFFFF" height="1382.6719" style="stroke:none;stroke-width:1.0;" width="939" x="30" y="562.3594"/><rect fill="#F5B7B1" height="1311.7344" style="stroke:#000000;stroke-width:1.5;" width="919" x="40" y="626.2969"/><rect fill="#FFFFFF" height="1198.9375" style="stroke:none;stroke-width:1.0;" width="919" x="40" y="739.0938"/><rect fill="#FFFFFF" height="388.2031" style="stroke:#000000;stroke-width:1.5;" width="883" x="60" y="760.8984"/><rect fill="#FFFFFF" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="459.5" x="312" y="827.1641"/><rect fill="#FFFFFF" height="43.9375" style="stroke:none;stroke-width:1.0;" width="459.5" x="312" y="873.4297"/><rect fill="#F5B7B1" height="168.6016" style="stroke:#000000;stroke-width:1.5;" width="863" x="70" y="973.5"/><rect fill="#FFFFFF" height="86.0703" style="stroke:none;stroke-width:1.0;" width="863" x="70" y="1056.0313"/><rect fill="#F5B7B1" height="681.5313" style="stroke:#000000;stroke-width:1.5;" width="899" x="50" y="1249.5"/><rect fill="#FFFFFF" height="614.1328" style="stroke:none;stroke-width:1.0;" width="899" x="50" y="1316.8984"/><rect fill="#FFFFFF" height="255.8672" style="stroke:#000000;stroke-width:1.5;" width="879" x="60" y="1524.5"/><rect fill="#F5B7B1" height="153.4688" style="stroke:#000000;stroke-width:1.5;" width="859" x="70" y="1619.8984"/><rect fill="#FFFFFF" height="86.0703" style="stroke:none;stroke-width:1.0;" width="859" x="70" y="1687.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="135" x2="135" y1="134.8906" y2="1976.0313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="374" x2="374" y1="134.8906" y2="1976.0313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="734.5" x2="734.5" y1="134.8906" y2="1976.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="80" y="131.5889">User or Service</text><ellipse cx="135" cy="67.0938" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M135,75.0938 L135,102.0938 M122,83.0938 L148,83.0938 M135,102.0938 L122,117.0938 M135,102.0938 L148,117.0938 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="80" y="1988.0264">User or Service</text><ellipse cx="135" cy="1999.8281" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M135,2007.8281 L135,2034.8281 M122,2015.8281 L148,2015.8281 M135,2034.8281 L122,2049.8281 M135,2034.8281 L148,2049.8281 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#00CEEE" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="322" y="103.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="329" y="123.5889">NameService</text><rect fill="#00CEEE" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="322" y="1975.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="329" y="1995.0264">NameService</text><rect fill="#00EE20" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="708.5" y="103.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="715.5" y="123.5889">EVVM</text><rect fill="#00EE20" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="708.5" y="1975.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="715.5" y="1995.0264">EVVM</text><rect fill="#00CEEE" height="1800.0078" style="stroke:#181818;stroke-width:1.0;" width="10" x="369" y="166.0234"/><rect fill="#00EE20" height="268.6719" style="stroke:#181818;stroke-width:1.0;" width="10" x="730" y="865.4297"/><rect fill="#00EE20" height="160.4688" style="stroke:#181818;stroke-width:1.0;" width="10" x="730" y="1234.5"/><rect fill="#00EE20" height="160.4688" style="stroke:#181818;stroke-width:1.0;" width="10" x="730" y="1604.8984"/><polygon fill="#181818" points="357,162.0234,367,166.0234,357,170.0234,361,166.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="135" x2="363" y1="166.0234" y2="166.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="142" y="160.9575">acceptOffer(&#183;&#183;&#183;)</text><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="421" y1="195.1563" y2="195.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="195.1563" y2="208.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="380" x2="421" y1="208.1563" y2="208.1563"/><polygon fill="#181818" points="390,204.1563,380,208.1563,390,212.1563,386,208.1563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="386" y="190.0903">onlyOwnerOfIdentity(user, username)</text><path d="M10,223.1563 L74,223.1563 L74,230.2891 L64,240.2891 L10,240.2891 L10,223.1563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1735.875" style="stroke:#000000;stroke-width:1.5;" width="979" x="10" y="223.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="236.2231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="257" x="89" y="235.3667">[User is not the owner of the username]</text><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="274.5547" y2="284.5547"/><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="284.5547" y2="274.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="147" x2="368" y1="279.5547" y2="279.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="152" y="259.356">Revert with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="152" y="274.4888">OwnershipVerificationFailed</text><path d="M384,245.2891 L384,285.2891 L577,285.2891 L577,255.2891 L567,245.2891 L384,245.2891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M567,245.2891 L567,255.2891 L577,255.2891 L567,245.2891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="390" y="262.356">Only the current username</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="390" y="277.4888">owner can accept offers</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="989" y1="291.5547" y2="291.5547"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="169" x="15" y="301.7651">[User owns the username]</text><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="421" y1="326.4922" y2="326.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="326.4922" y2="339.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="380" x2="421" y1="339.4922" y2="339.4922"/><polygon fill="#181818" points="390,335.4922,380,339.4922,390,343.4922,386,339.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="386" y="321.4263">verifyIfNonceIsAvailable(user, nonce)</text><path d="M20,354.4922 L84,354.4922 L84,361.625 L74,371.625 L20,371.625 L20,354.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1597.5391" style="stroke:#000000;stroke-width:1.5;" width="959" x="20" y="354.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="367.5591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="271" x="99" y="366.7026">[nonce already used]</text><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="402.8906" y2="412.8906"/><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="412.8906" y2="402.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="147" x2="368" y1="407.8906" y2="407.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="152" y="387.6919">Revert with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="152" y="402.8247">AsyncNonceAlreadyUsed()</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="979" y1="416.8906" y2="416.8906"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="128" x="25" y="427.1011">[Nonce is available]</text><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="421" y1="451.8281" y2="451.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="451.8281" y2="464.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="380" x2="421" y1="464.8281" y2="464.8281"/><polygon fill="#181818" points="390,460.8281,380,464.8281,390,468.8281,386,464.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="386" y="446.7622">Validate offer</text><path d="M30,479.8281 L94,479.8281 L94,486.9609 L84,496.9609 L30,496.9609 L30,479.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1465.2031" style="stroke:#000000;stroke-width:1.5;" width="939" x="30" y="479.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="45" y="492.895">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="143" x="109" y="492.0386">[Offer validation fails]</text><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="538.793" y2="548.793"/><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="548.793" y2="538.793"/><line style="stroke:#181818;stroke-width:1.0;" x1="147" x2="368" y1="543.793" y2="543.793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="152" y="523.5942">Revert with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="152" y="538.7271">AcceptOfferVerificationFailed</text><path d="M384,501.9609 L384,556.9609 L847,556.9609 L847,511.9609 L837,501.9609 L384,501.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M837,501.9609 L837,511.9609 L847,511.9609 L837,501.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="390" y="519.0278">Could be:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="387" x="390" y="534.1606">&#8226; usernameOffers[username][offerID].offerer == address(0)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="442" x="390" y="549.2935">&#8226; usernameOffers[username][offerID].expireDate &lt; block.timestamp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="969" y1="563.3594" y2="563.3594"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="93" x="35" y="573.5698">[Offer is valid]</text><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="421" y1="598.2969" y2="598.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="598.2969" y2="611.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="380" x2="421" y1="611.2969" y2="611.2969"/><polygon fill="#181818" points="390,607.2969,380,611.2969,390,615.2969,386,611.2969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="386" y="593.231">verifyMessageSignedForAcceptOffer(&#183;&#183;&#183;)</text><path d="M40,626.2969 L104,626.2969 L104,633.4297 L94,643.4297 L40,643.4297 L40,626.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1311.7344" style="stroke:#000000;stroke-width:1.5;" width="919" x="40" y="626.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="55" y="639.3638">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="181" x="119" y="638.5073">[Signature verification fails]</text><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="700.3945" y2="710.3945"/><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="710.3945" y2="700.3945"/><line style="stroke:#181818;stroke-width:1.0;" x1="147" x2="368" y1="705.3945" y2="705.3945"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="152" y="685.1958">Revert with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="152" y="700.3286">InvalidSignatureOnNameService</text><path d="M384,648.4297 L384,733.4297 L534,733.4297 L534,658.4297 L524,648.4297 L384,648.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M524,648.4297 L524,658.4297 L534,658.4297 L524,648.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="390" y="665.4966">Invalid signature for:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="390" y="680.6294">&#8226; user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="390" y="695.7622">&#8226; username</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="390" y="710.895">&#8226; offerID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="390" y="726.0278">&#8226; nonce</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40" x2="959" y1="740.0938" y2="740.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="122" x="45" y="750.3042">[Signature is valid]</text><path d="M60,760.8984 L124,760.8984 L124,768.0313 L114,778.0313 L60,778.0313 L60,760.8984 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="388.2031" style="stroke:#000000;stroke-width:1.5;" width="883" x="60" y="760.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="75" y="773.9653">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="146" x="139" y="773.1089">[priorityFee_EVVM &gt; 0]</text><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="421" y1="799.1641" y2="799.1641"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="799.1641" y2="812.1641"/><line style="stroke:#181818;stroke-width:1.0;" x1="380" x2="421" y1="812.1641" y2="812.1641"/><polygon fill="#181818" points="390,808.1641,380,812.1641,390,816.1641,386,812.1641" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="386" y="794.0981">makePay(user, 0, priorityFee_EVVM, &#183;&#183;&#183;)</text><path d="M312,827.1641 L376,827.1641 L376,834.2969 L366,844.2969 L312,844.2969 L312,827.1641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="459.5" x="312" y="827.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="327" y="840.231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="177" x="391" y="839.3745">[priorityFlag_EVVM == true]</text><polygon fill="#181818" points="718,861.4297,728,865.4297,718,869.4297,722,865.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="724" y1="865.4297" y2="865.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="386" y="860.3638">payStaker_async(&#183;&#183;&#183;)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="312" x2="771.5" y1="874.4297" y2="874.4297"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="183" x="317" y="884.6401">[priorityFlag_EVVM == false]</text><polygon fill="#181818" points="718,905.3672,728,909.3672,718,913.3672,722,909.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="724" y1="909.3672" y2="909.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="386" y="904.3013">payStaker_sync(&#183;&#183;&#183;)</text><line style="stroke:#181818;stroke-width:1.0;" x1="740" x2="782" y1="945.5" y2="945.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="782" y1="945.5" y2="958.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="741" x2="782" y1="958.5" y2="958.5"/><polygon fill="#181818" points="751,954.5,741,958.5,751,962.5,747,958.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="747" y="940.4341">Verify payment inputs</text><path d="M70,973.5 L134,973.5 L134,980.6328 L124,990.6328 L70,990.6328 L70,973.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="168.6016" style="stroke:#000000;stroke-width:1.5;" width="863" x="70" y="973.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="85" y="986.5669">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="172" x="149" y="985.7104">[Priority fee payment fails]</text><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="1032.4648" y2="1042.4648"/><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="1042.4648" y2="1032.4648"/><line style="stroke:#181818;stroke-width:1.0;" x1="147" x2="729" y1="1037.4648" y2="1037.4648"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="152" y="1017.2661">Revert with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="152" y="1032.3989">payment error</text><path d="M745,995.6328 L745,1050.6328 L923,1050.6328 L923,1005.6328 L913,995.6328 L745,995.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M913,995.6328 L913,1005.6328 L923,1005.6328 L913,995.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="751" y="1012.6997">Could be:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="751" y="1027.8325">&#8226; Invalid EVVM nonce</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="751" y="1042.9653">&#8226; Invalid EVVM signature</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="70" x2="933" y1="1057.0313" y2="1057.0313"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204" x="75" y="1067.2417">[Priority fee payment succeeds]</text><line style="stroke:#181818;stroke-width:1.0;" x1="740" x2="782" y1="1091.9688" y2="1091.9688"/><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="782" y1="1091.9688" y2="1104.9688"/><line style="stroke:#181818;stroke-width:1.0;" x1="741" x2="782" y1="1104.9688" y2="1104.9688"/><polygon fill="#181818" points="751,1100.9688,741,1104.9688,751,1108.9688,747,1104.9688" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="747" y="1086.9028">Update balances</text><polygon fill="#181818" points="390,1130.1016,380,1134.1016,390,1138.1016,386,1134.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="384" x2="734" y1="1134.1016" y2="1134.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="396" y="1129.0356">Payment processed</text><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="421" y1="1192.3672" y2="1192.3672"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="1192.3672" y2="1205.3672"/><line style="stroke:#181818;stroke-width:1.0;" x1="380" x2="421" y1="1205.3672" y2="1205.3672"/><polygon fill="#181818" points="390,1201.3672,380,1205.3672,390,1209.3672,386,1205.3672" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="386" y="1172.1685">makeCaPay(user,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="386" y="1187.3013">usernameOffers[username][offerID].amount)</text><polygon fill="#181818" points="718,1230.5,728,1234.5,718,1238.5,722,1234.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="724" y1="1234.5" y2="1234.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="386" y="1229.4341">caPay(user, amount)</text><path d="M50,1249.5 L114,1249.5 L114,1256.6328 L104,1266.6328 L50,1266.6328 L50,1249.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="681.5313" style="stroke:#000000;stroke-width:1.5;" width="899" x="50" y="1249.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="65" y="1262.5669">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="154" x="129" y="1261.7104">[Payment to seller fails]</text><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="1300.8984" y2="1310.8984"/><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="1310.8984" y2="1300.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="147" x2="729" y1="1305.8984" y2="1305.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="152" y="1285.6997">Revert with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="152" y="1300.8325">caPay error</text><path d="M745,1271.6328 L745,1311.6328 L919,1311.6328 L919,1281.6328 L909,1271.6328 L745,1271.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M909,1271.6328 L909,1281.6328 L919,1281.6328 L909,1271.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="751" y="1288.6997">Contract balance issues</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="751" y="1303.8325">or other EVVM errors</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="50" x2="949" y1="1317.8984" y2="1317.8984"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="186" x="55" y="1328.1089">[Payment to seller succeeds]</text><line style="stroke:#181818;stroke-width:1.0;" x1="740" x2="782" y1="1352.8359" y2="1352.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="782" y1="1352.8359" y2="1365.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="741" x2="782" y1="1365.8359" y2="1365.8359"/><polygon fill="#181818" points="751,1361.8359,741,1365.8359,751,1369.8359,747,1365.8359" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="747" y="1347.77">Transfer amount to seller</text><polygon fill="#181818" points="390,1390.9688,380,1394.9688,390,1398.9688,386,1394.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="384" x2="734" y1="1394.9688" y2="1394.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="396" y="1389.9028">Payment completed</text><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="421" y1="1454.3672" y2="1454.3672"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="1454.3672" y2="1467.3672"/><line style="stroke:#181818;stroke-width:1.0;" x1="380" x2="421" y1="1467.3672" y2="1467.3672"/><polygon fill="#181818" points="390,1463.3672,380,1467.3672,390,1471.3672,386,1467.3672" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="386" y="1419.0356">Transfer ownership:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="386" y="1434.1685">identityDetails[username].owner =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="386" y="1449.3013">usernameOffers[username][offerID].offerer</text><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="421" y1="1496.5" y2="1496.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="1496.5" y2="1509.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="380" x2="421" y1="1509.5" y2="1509.5"/><polygon fill="#181818" points="390,1505.5,380,1509.5,390,1513.5,386,1509.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="386" y="1491.4341">Clear offer</text><path d="M60,1524.5 L124,1524.5 L124,1531.6328 L114,1541.6328 L60,1541.6328 L60,1524.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="255.8672" style="stroke:#000000;stroke-width:1.5;" width="879" x="60" y="1524.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="75" y="1537.5669">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="197" x="139" y="1536.7104">[isAddressStaker(msg.sender)]</text><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="421" y1="1562.7656" y2="1562.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="1562.7656" y2="1575.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="380" x2="421" y1="1575.7656" y2="1575.7656"/><polygon fill="#181818" points="390,1571.7656,380,1575.7656,390,1579.7656,386,1575.7656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="386" y="1557.6997">makeCaPay(msg.sender, reward)</text><polygon fill="#181818" points="718,1600.8984,728,1604.8984,718,1608.8984,722,1604.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="724" y1="1604.8984" y2="1604.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="386" y="1599.8325">caPay(msg.sender, reward)</text><path d="M70,1619.8984 L134,1619.8984 L134,1627.0313 L124,1637.0313 L70,1637.0313 L70,1619.8984 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="153.4688" style="stroke:#000000;stroke-width:1.5;" width="859" x="70" y="1619.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="85" y="1632.9653">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="174" x="149" y="1632.1089">[Staker reward caPay fails]</text><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="1671.2969" y2="1681.2969"/><line style="stroke:#181818;stroke-width:2.0;" x1="142" x2="152" y1="1681.2969" y2="1671.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="147" x2="729" y1="1676.2969" y2="1676.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="152" y="1656.0981">Revert with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="152" y="1671.231">caPay error</text><path d="M745,1642.0313 L745,1682.0313 L919,1682.0313 L919,1652.0313 L909,1642.0313 L745,1642.0313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M909,1642.0313 L909,1652.0313 L919,1652.0313 L909,1642.0313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="751" y="1659.0981">Contract balance issues</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="751" y="1674.231">or other EVVM errors</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="70" x2="929" y1="1688.2969" y2="1688.2969"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="164" x="75" y="1698.5073">[Staker reward succeeds]</text><line style="stroke:#181818;stroke-width:1.0;" x1="740" x2="782" y1="1723.2344" y2="1723.2344"/><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="782" y1="1723.2344" y2="1736.2344"/><line style="stroke:#181818;stroke-width:1.0;" x1="741" x2="782" y1="1736.2344" y2="1736.2344"/><polygon fill="#181818" points="751,1732.2344,741,1736.2344,751,1740.2344,747,1736.2344" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="747" y="1718.1685">Distribute staker rewards</text><polygon fill="#181818" points="390,1761.3672,380,1765.3672,390,1769.3672,386,1765.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="384" x2="734" y1="1765.3672" y2="1765.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="396" y="1760.3013">Reward distributed</text><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="421" y1="1823.6328" y2="1823.6328"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="1823.6328" y2="1836.6328"/><line style="stroke:#181818;stroke-width:1.0;" x1="380" x2="421" y1="1836.6328" y2="1836.6328"/><polygon fill="#181818" points="390,1832.6328,380,1836.6328,390,1840.6328,386,1836.6328" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="386" y="1803.4341">Update locked tokens:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337" x="386" y="1818.5669">principalTokenTokenLockedForWithdrawOffers -= amount + ...</text><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="421" y1="1865.7656" y2="1865.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="1865.7656" y2="1878.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="380" x2="421" y1="1878.7656" y2="1878.7656"/><polygon fill="#181818" points="390,1874.7656,380,1878.7656,390,1882.7656,386,1878.7656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="386" y="1860.6997">nameServiceNonce[user][nonce] = true</text><polygon fill="#181818" points="146,1919.0313,136,1923.0313,146,1927.0313,142,1923.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="140" x2="368" y1="1923.0313" y2="1923.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="152" y="1902.8325">Offer accepted successfully</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="152" y="1917.9653">Username ownership transferred</text><!--SRC=[jLVDRkCs4BxhAOZinKOJrorGB10a0LB7QGrqDy5canxYO45B8vi8JGeaPQzH5EYpz2LwxwFqIJea9Lco9KjEKUGGYIPdFdxppOykjDbmk0eY6QPB48Ry5X3o8mrVVr8o5T58Sgd8Ui4C1By75zzckmCQ6bm_UTIW23uyW5gn44u8rIJ5jI2Xoh2G9HGjddoaIoZl4Djtycuu78t7u-g1yTFJ1xSJLgkbtJ8UVpyC0iCC1qB3419p5yVe-hEYGYCM9WMvvN8z5RrRoZX4v9wQ1JaZOwKGtizKH9o9UJy8B3foTbN1S5wssVlxB_lNTtTaAsgW5czGNjop9mNVtAq5gBju4Y6hp6nwrlEfOyVkjVQv8U_Y7sRlPzyHHoH3QgGXPW54siD4nkubFuEH8HL7Pr_TR-Zm4wn06R9cPZ4LphDUiEG958jPI2q_dXTlGkAb59il39wyGwZEIvWgPGMGUviA3oAa8kC7yI11sja8W6jamod3eyVTkWft7-ykJoiBS3E9FqeHmaHVhn0adN78o19skU_jbDag6N4dd-tsbsUt_OLSNXAZKizMHyQSbMkkW4ORl4nKd7KFvQkwdJPIDCSQr3lQlUeJvIooQd8aRW-Lx-L5lV8xhQPZzA6BhHqlSxqLSuC02cDb8OnaoYCoW_Ef-EUFFuieEZlwENzzUNRu9pSl0_U0xf5l6aKAjEuD-rqFmzU4ARYnX5oG6PVXwy2m9MX3bqa5O_5IZe8d2gFWk0gQ6QeNt0V4IkVmmEO2ebkfhklIlsop72HxYffKWJUMiLiJgexXcWXtYSBidIZLots3vP1bHuak8CLIbU9N3OP_ooBWNrp6xFceB9Hftrwzdlg2AhyzKKmgB7st05ziIITNPBYtlpLaI_eAzpIldyFJFREd98zPdUtQnJgGdCuzojtwqOBMzQXpaj3DWq6ewWlL6n7s3c5o4FBkKkbnTJlB4QX56rFSyMQuhMX1HDsPTUQtRbm1sbXlRhXW8acDFZ9EMTxTPrSdCK1Xi3xhgc3gqowt07P2Q2RlG8NCiy-5mMLIpNgHcgsXhRsVJh4qGTHsnOBlnyJrc1db5F6q7wkcsdtcDL4I3sk86iz7KD5lPztOjU3ez1_HeW1CHNjleKiSNKs_rL76MRYrJlAZtR8rEAZNZ4mZYGREKO7DOZqaL0VlW4nt92gCGh2v0h1GwnGqpd8ueE5mfhmgdRLzA1Kvxi4_gCKT7Rh1tFPeJ-ZMId2y6aEvJ3YO1ZNkAl7u1bDWbVdSZ0dEih7z1eoDsbPc0pyLNtOHOZOXlG7JY0DLsQZubgx6zBKVoNoHxotrVA0n-K3rkpQAfZJScZeb2jPKHVtWoEOJDXewhbisRo_FQuw1p8DttT8s_cj6_W-PMJkDLIxMsYbgilI6QQFOB4LZkcoicv6gG3vv655XCZfef4i3EJHyD0yWTHscLTvPtxJV8H1XjNe5eR4AB77nittvnVs0dmg_eW8YHTS-wSdPPLxXlY63mU0Ddbk-PVqescuMxMPIzTz6_eiTCbre7QUSRwRYCIjIsrg73dpvKr3VhflUysVxtv5U2ca9Ml0l]--></g></svg>