<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1830px" preserveAspectRatio="none" style="width:988px;height:1830px;background:#FFFFFF;" version="1.1" viewBox="0 0 988 1830" width="988px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="255" x="367.5" y="27.9951">withdrawOffer Transaction Flow</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="227" x="381.5" y="44.292">(Failed Path - Error Handling)</text><rect fill="#00CEEE" height="1530.2734" style="stroke:#181818;stroke-width:1.0;" width="10" x="345" y="166.0234"/><rect fill="#00EE20" height="268.6719" style="stroke:#181818;stroke-width:1.0;" width="10" x="733" y="734.0938"/><rect fill="#00EE20" height="160.4688" style="stroke:#181818;stroke-width:1.0;" width="10" x="733" y="1103.1641"/><rect fill="#00EE20" height="160.4688" style="stroke:#181818;stroke-width:1.0;" width="10" x="733" y="1392.1641"/><rect fill="#F5B7B1" height="1509.1406" style="stroke:#000000;stroke-width:1.5;" width="971" x="10" y="223.1563"/><rect fill="#FFFFFF" height="1447.7422" style="stroke:none;stroke-width:1.0;" width="971" x="10" y="284.5547"/><rect fill="#F5B7B1" height="1361.6719" style="stroke:#000000;stroke-width:1.5;" width="951" x="20" y="363.625"/><rect fill="#FFFFFF" height="1294.2734" style="stroke:none;stroke-width:1.0;" width="951" x="20" y="431.0234"/><rect fill="#F5B7B1" height="1223.3359" style="stroke:#000000;stroke-width:1.5;" width="931" x="30" y="494.9609"/><rect fill="#FFFFFF" height="1110.5391" style="stroke:none;stroke-width:1.0;" width="931" x="30" y="607.7578"/><rect fill="#FFFFFF" height="388.2031" style="stroke:#000000;stroke-width:1.5;" width="906" x="40" y="629.5625"/><rect fill="#FFFFFF" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="486.5" x="288" y="695.8281"/><rect fill="#FFFFFF" height="43.9375" style="stroke:none;stroke-width:1.0;" width="486.5" x="288" y="742.0938"/><rect fill="#F5B7B1" height="168.6016" style="stroke:#000000;stroke-width:1.5;" width="886" x="50" y="842.1641"/><rect fill="#FFFFFF" height="86.0703" style="stroke:none;stroke-width:1.0;" width="886" x="50" y="924.6953"/><rect fill="#F5B7B1" height="593.1328" style="stroke:#000000;stroke-width:1.5;" width="911" x="40" y="1118.1641"/><rect fill="#FFFFFF" height="525.7344" style="stroke:none;stroke-width:1.0;" width="911" x="40" y="1185.5625"/><rect fill="#F5B7B1" height="297.1328" style="stroke:#000000;stroke-width:1.5;" width="882" x="50" y="1407.1641"/><rect fill="#FFFFFF" height="229.7344" style="stroke:none;stroke-width:1.0;" width="882" x="50" y="1474.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="115" x2="115" y1="134.8906" y2="1749.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="350" x2="350" y1="134.8906" y2="1749.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="737.5" x2="737.5" y1="134.8906" y2="1749.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="60" y="131.5889">User or Service</text><ellipse cx="115" cy="67.0938" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M115,75.0938 L115,102.0938 M102,83.0938 L128,83.0938 M115,102.0938 L102,117.0938 M115,102.0938 L128,117.0938 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="60" y="1761.292">User or Service</text><ellipse cx="115" cy="1773.0938" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M115,1781.0938 L115,1808.0938 M102,1789.0938 L128,1789.0938 M115,1808.0938 L102,1823.0938 M115,1808.0938 L128,1823.0938 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#00CEEE" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="298" y="103.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="305" y="123.5889">NameService</text><rect fill="#00CEEE" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="298" y="1748.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="305" y="1768.292">NameService</text><rect fill="#00EE20" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="711.5" y="103.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="718.5" y="123.5889">EVVM</text><rect fill="#00EE20" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="711.5" y="1748.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="718.5" y="1768.292">EVVM</text><rect fill="#00CEEE" height="1530.2734" style="stroke:#181818;stroke-width:1.0;" width="10" x="345" y="166.0234"/><rect fill="#00EE20" height="268.6719" style="stroke:#181818;stroke-width:1.0;" width="10" x="733" y="734.0938"/><rect fill="#00EE20" height="160.4688" style="stroke:#181818;stroke-width:1.0;" width="10" x="733" y="1103.1641"/><rect fill="#00EE20" height="160.4688" style="stroke:#181818;stroke-width:1.0;" width="10" x="733" y="1392.1641"/><polygon fill="#181818" points="333,162.0234,343,166.0234,333,170.0234,337,166.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="115" x2="339" y1="166.0234" y2="166.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="122" y="160.9575">withdrawOffer(&#183;&#183;&#183;)</text><line style="stroke:#181818;stroke-width:1.0;" x1="355" x2="397" y1="195.1563" y2="195.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="397" x2="397" y1="195.1563" y2="208.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="356" x2="397" y1="208.1563" y2="208.1563"/><polygon fill="#181818" points="366,204.1563,356,208.1563,366,212.1563,362,208.1563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="362" y="190.0903">verifyIfNonceIsAvailable(user, nonce)</text><path d="M10,223.1563 L74,223.1563 L74,230.2891 L64,240.2891 L10,240.2891 L10,223.1563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1509.1406" style="stroke:#000000;stroke-width:1.5;" width="971" x="10" y="223.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="236.2231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="271" x="89" y="235.3667">[nameServiceNonce[user][nonce] == true]</text><line style="stroke:#181818;stroke-width:2.0;" x1="122" x2="132" y1="271.5547" y2="281.5547"/><line style="stroke:#181818;stroke-width:2.0;" x1="122" x2="132" y1="281.5547" y2="271.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="344" y1="276.5547" y2="276.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="132" y="256.356">Revert with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="132" y="271.4888">NonceAlreadyUsed</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="981" y1="285.5547" y2="285.5547"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="128" x="15" y="295.7651">[Nonce is available]</text><line style="stroke:#181818;stroke-width:1.0;" x1="355" x2="397" y1="335.625" y2="335.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="397" x2="397" y1="335.625" y2="348.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="356" x2="397" y1="348.625" y2="348.625"/><polygon fill="#181818" points="366,344.625,356,348.625,366,352.625,362,348.625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="362" y="315.4263">Verify ownership:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="334" x="362" y="330.5591">usernameOffers[username][offerID].offerer == user</text><path d="M20,363.625 L84,363.625 L84,370.7578 L74,380.7578 L20,380.7578 L20,363.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1361.6719" style="stroke:#000000;stroke-width:1.5;" width="951" x="20" y="363.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="376.6919">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="188" x="99" y="375.8354">[Ownership verification fails]</text><line style="stroke:#181818;stroke-width:2.0;" x1="122" x2="132" y1="415.0234" y2="425.0234"/><line style="stroke:#181818;stroke-width:2.0;" x1="122" x2="132" y1="425.0234" y2="415.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="344" y1="420.0234" y2="420.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="132" y="399.8247">Revert with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="132" y="414.9575">UserIsNotOwnerOfOffer</text><path d="M360,385.7578 L360,425.7578 L525,425.7578 L525,395.7578 L515,385.7578 L360,385.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M515,385.7578 L515,395.7578 L525,395.7578 L515,385.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="366" y="402.8247">User is not the original</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="366" y="417.9575">offerer of this offer</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="971" y1="432.0234" y2="432.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="127" x="25" y="442.2339">[User is the offerer]</text><line style="stroke:#181818;stroke-width:1.0;" x1="355" x2="397" y1="466.9609" y2="466.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="397" x2="397" y1="466.9609" y2="479.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="356" x2="397" y1="479.9609" y2="479.9609"/><polygon fill="#181818" points="366,475.9609,356,479.9609,366,483.9609,362,479.9609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="362" y="461.895">verifyMessageSignedForWithdrawOffer(&#183;&#183;&#183;)</text><path d="M30,494.9609 L94,494.9609 L94,502.0938 L84,512.0938 L30,512.0938 L30,494.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1223.3359" style="stroke:#000000;stroke-width:1.5;" width="931" x="30" y="494.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="45" y="508.0278">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="181" x="109" y="507.1714">[Signature verification fails]</text><line style="stroke:#181818;stroke-width:2.0;" x1="122" x2="132" y1="569.0586" y2="579.0586"/><line style="stroke:#181818;stroke-width:2.0;" x1="122" x2="132" y1="579.0586" y2="569.0586"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="344" y1="574.0586" y2="574.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="132" y="553.8599">Revert with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="132" y="568.9927">InvalidSignatureOnNameService</text><path d="M360,517.0938 L360,602.0938 L510,602.0938 L510,527.0938 L500,517.0938 L360,517.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M500,517.0938 L500,527.0938 L510,527.0938 L500,517.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="366" y="534.1606">Invalid signature for:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="366" y="549.2935">&#8226; user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="366" y="564.4263">&#8226; username</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="366" y="579.5591">&#8226; offerID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="366" y="594.6919">&#8226; nonce</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="961" y1="608.7578" y2="608.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="122" x="35" y="618.9683">[Signature is valid]</text><path d="M40,629.5625 L104,629.5625 L104,636.6953 L94,646.6953 L40,646.6953 L40,629.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="388.2031" style="stroke:#000000;stroke-width:1.5;" width="906" x="40" y="629.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="55" y="642.6294">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="146" x="119" y="641.7729">[priorityFee_EVVM &gt; 0]</text><line style="stroke:#181818;stroke-width:1.0;" x1="355" x2="397" y1="667.8281" y2="667.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="397" x2="397" y1="667.8281" y2="680.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="356" x2="397" y1="680.8281" y2="680.8281"/><polygon fill="#181818" points="366,676.8281,356,680.8281,366,684.8281,362,680.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="362" y="662.7622">makePay(user, 0, priorityFee_EVVM, &#183;&#183;&#183;)</text><path d="M288,695.8281 L352,695.8281 L352,702.9609 L342,712.9609 L288,712.9609 L288,695.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="486.5" x="288" y="695.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="303" y="708.895">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="177" x="367" y="708.0386">[priorityFlag_EVVM == true]</text><polygon fill="#181818" points="721,730.0938,731,734.0938,721,738.0938,725,734.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="355" x2="727" y1="734.0938" y2="734.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="362" y="729.0278">payStaker_async(&#183;&#183;&#183;)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="288" x2="774.5" y1="743.0938" y2="743.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="183" x="293" y="753.3042">[priorityFlag_EVVM == false]</text><polygon fill="#181818" points="721,774.0313,731,778.0313,721,782.0313,725,778.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="355" x2="727" y1="778.0313" y2="778.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="362" y="772.9653">payStaker_sync(&#183;&#183;&#183;)</text><line style="stroke:#181818;stroke-width:1.0;" x1="743" x2="785" y1="814.1641" y2="814.1641"/><line style="stroke:#181818;stroke-width:1.0;" x1="785" x2="785" y1="814.1641" y2="827.1641"/><line style="stroke:#181818;stroke-width:1.0;" x1="744" x2="785" y1="827.1641" y2="827.1641"/><polygon fill="#181818" points="754,823.1641,744,827.1641,754,831.1641,750,827.1641" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="750" y="809.0981">Verify payment inputs</text><path d="M50,842.1641 L114,842.1641 L114,849.2969 L104,859.2969 L50,859.2969 L50,842.1641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="168.6016" style="stroke:#000000;stroke-width:1.5;" width="886" x="50" y="842.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="65" y="855.231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="172" x="129" y="854.3745">[Priority fee payment fails]</text><line style="stroke:#181818;stroke-width:2.0;" x1="122" x2="132" y1="901.1289" y2="911.1289"/><line style="stroke:#181818;stroke-width:2.0;" x1="122" x2="132" y1="911.1289" y2="901.1289"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="732" y1="906.1289" y2="906.1289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="132" y="885.9302">Revert with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="132" y="901.063">payment error</text><path d="M748,864.2969 L748,919.2969 L926,919.2969 L926,874.2969 L916,864.2969 L748,864.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M916,864.2969 L916,874.2969 L926,874.2969 L916,864.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="754" y="881.3638">Could be:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="754" y="896.4966">&#8226; Invalid EVVM nonce</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="754" y="911.6294">&#8226; Invalid EVVM signature</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="50" x2="936" y1="925.6953" y2="925.6953"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204" x="55" y="935.9058">[Priority fee payment succeeds]</text><line style="stroke:#181818;stroke-width:1.0;" x1="743" x2="785" y1="960.6328" y2="960.6328"/><line style="stroke:#181818;stroke-width:1.0;" x1="785" x2="785" y1="960.6328" y2="973.6328"/><line style="stroke:#181818;stroke-width:1.0;" x1="744" x2="785" y1="973.6328" y2="973.6328"/><polygon fill="#181818" points="754,969.6328,744,973.6328,754,977.6328,750,973.6328" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="750" y="955.5669">Update balances</text><polygon fill="#181818" points="366,998.7656,356,1002.7656,366,1006.7656,362,1002.7656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="360" x2="737" y1="1002.7656" y2="1002.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="372" y="997.6997">Payment processed</text><line style="stroke:#181818;stroke-width:1.0;" x1="355" x2="397" y1="1061.0313" y2="1061.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="397" x2="397" y1="1061.0313" y2="1074.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="356" x2="397" y1="1074.0313" y2="1074.0313"/><polygon fill="#181818" points="366,1070.0313,356,1074.0313,366,1078.0313,362,1074.0313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="362" y="1040.8325">makeCaPay(user,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="362" y="1055.9653">usernameOffers[username][offerID].amount)</text><polygon fill="#181818" points="721,1099.1641,731,1103.1641,721,1107.1641,725,1103.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="355" x2="727" y1="1103.1641" y2="1103.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="362" y="1098.0981">caPay(user, amount)</text><path d="M40,1118.1641 L104,1118.1641 L104,1125.2969 L94,1135.2969 L40,1135.2969 L40,1118.1641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="593.1328" style="stroke:#000000;stroke-width:1.5;" width="911" x="40" y="1118.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="55" y="1131.231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="129" x="119" y="1130.3745">[Refund caPay fails]</text><line style="stroke:#181818;stroke-width:2.0;" x1="122" x2="132" y1="1169.5625" y2="1179.5625"/><line style="stroke:#181818;stroke-width:2.0;" x1="122" x2="132" y1="1179.5625" y2="1169.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="732" y1="1174.5625" y2="1174.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="132" y="1154.3638">Revert with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="132" y="1169.4966">caPay error</text><path d="M748,1140.2969 L748,1180.2969 L922,1180.2969 L922,1150.2969 L912,1140.2969 L748,1140.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M912,1140.2969 L912,1150.2969 L922,1150.2969 L912,1140.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="754" y="1157.3638">Contract balance issues</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="754" y="1172.4966">or other EVVM errors</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40" x2="951" y1="1186.5625" y2="1186.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="119" x="45" y="1196.7729">[Refund succeeds]</text><line style="stroke:#181818;stroke-width:1.0;" x1="743" x2="785" y1="1221.5" y2="1221.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="785" x2="785" y1="1221.5" y2="1234.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="744" x2="785" y1="1234.5" y2="1234.5"/><polygon fill="#181818" points="754,1230.5,744,1234.5,754,1238.5,750,1234.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="750" y="1216.4341">Transfer amount back to user</text><polygon fill="#181818" points="366,1259.6328,356,1263.6328,366,1267.6328,362,1263.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="360" x2="737" y1="1263.6328" y2="1263.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="372" y="1258.5669">Refund completed</text><line style="stroke:#181818;stroke-width:1.0;" x1="355" x2="397" y1="1307.8984" y2="1307.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="397" x2="397" y1="1307.8984" y2="1320.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="356" x2="397" y1="1320.8984" y2="1320.8984"/><polygon fill="#181818" points="366,1316.8984,356,1320.8984,366,1324.8984,362,1320.8984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="362" y="1287.6997">Clear offer:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="364" x="362" y="1302.8325">usernameOffers[username][offerID].offerer = address(0)</text><line style="stroke:#181818;stroke-width:1.0;" x1="355" x2="397" y1="1350.0313" y2="1350.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="397" x2="397" y1="1350.0313" y2="1363.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="356" x2="397" y1="1363.0313" y2="1363.0313"/><polygon fill="#181818" points="366,1359.0313,356,1363.0313,366,1367.0313,362,1363.0313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="362" y="1344.9653">makeCaPay(msg.sender, reward)</text><polygon fill="#181818" points="721,1388.1641,731,1392.1641,721,1396.1641,725,1392.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="355" x2="727" y1="1392.1641" y2="1392.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="362" y="1387.0981">caPay(msg.sender, reward)</text><path d="M50,1407.1641 L114,1407.1641 L114,1414.2969 L104,1424.2969 L50,1424.2969 L50,1407.1641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="297.1328" style="stroke:#000000;stroke-width:1.5;" width="882" x="50" y="1407.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="65" y="1420.231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="174" x="129" y="1419.3745">[Staker reward caPay fails]</text><line style="stroke:#181818;stroke-width:2.0;" x1="122" x2="132" y1="1458.5625" y2="1468.5625"/><line style="stroke:#181818;stroke-width:2.0;" x1="122" x2="132" y1="1468.5625" y2="1458.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="732" y1="1463.5625" y2="1463.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="132" y="1443.3638">Revert with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="132" y="1458.4966">caPay error</text><path d="M748,1429.2969 L748,1469.2969 L922,1469.2969 L922,1439.2969 L912,1429.2969 L748,1429.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M912,1429.2969 L912,1439.2969 L922,1439.2969 L912,1429.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="754" y="1446.3638">Contract balance issues</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="754" y="1461.4966">or other EVVM errors</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="50" x2="932" y1="1475.5625" y2="1475.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="164" x="55" y="1485.7729">[Staker reward succeeds]</text><line style="stroke:#181818;stroke-width:1.0;" x1="743" x2="785" y1="1510.5" y2="1510.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="785" x2="785" y1="1510.5" y2="1523.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="744" x2="785" y1="1523.5" y2="1523.5"/><polygon fill="#181818" points="754,1519.5,744,1523.5,754,1527.5,750,1523.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="750" y="1505.4341">Distribute staker rewards</text><polygon fill="#181818" points="366,1548.6328,356,1552.6328,366,1556.6328,362,1552.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="360" x2="737" y1="1552.6328" y2="1552.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="372" y="1547.5669">Reward distributed</text><line style="stroke:#181818;stroke-width:1.0;" x1="355" x2="397" y1="1596.8984" y2="1596.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="397" x2="397" y1="1596.8984" y2="1609.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="356" x2="397" y1="1609.8984" y2="1609.8984"/><polygon fill="#181818" points="366,1605.8984,356,1609.8984,366,1613.8984,362,1609.8984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="362" y="1576.6997">Update locked tokens:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337" x="362" y="1591.8325">mateTokenLockedForWithdrawOffers -= amount + ...</text><line style="stroke:#181818;stroke-width:1.0;" x1="355" x2="397" y1="1639.0313" y2="1639.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="397" x2="397" y1="1639.0313" y2="1652.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="356" x2="397" y1="1652.0313" y2="1652.0313"/><polygon fill="#181818" points="366,1648.0313,356,1652.0313,366,1656.0313,362,1652.0313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="362" y="1633.9653">nameServiceNonce[user][nonce] = true</text><polygon fill="#181818" points="126,1692.2969,116,1696.2969,126,1700.2969,122,1696.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="120" x2="349" y1="1696.2969" y2="1696.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="132" y="1676.0981">Offer withdrawn successfully</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="132" y="1691.231">Tokens refunded</text><!--SRC=[hLV1RkCs4BtpAuZinK4JrorG50Ws0RPUfpNGJO9aDpt4mOAMHZPXcZH8ogvH5EYtz2TwxwVqIpea9LcIPSdUDZb4OcRUl1c-6L9lZTqAk26nYj8bI4j_8vJ-mAB5ZrgbCXugeJJTpBa5yZjv-tLcJLXaSVtiam5DyU49z9f7S4QPeIckaHNJbaTynH3nx8ujeMmXT-_qpM0m78r6LOVHy_C7RmdhzTAPZ4RV3WYnt0gW6sxdiMQR-oJ1u1yramRPS2NfhL2RYUpTCYuWfW_Cpkab7McD17zYCXPSpiu9SVpevKs5nLKLjVVtN-xttAN9ryn28sLINjm3N8FcoNQSt2aPmTYyMoChDXNGS_4lg7JBo8O9Izyatqs_dtvJ1l1UByxqzSMRljBhQsfr2hWzj1BgybTVSWpv21ZK-bGcqYEy4nfOlCLjYhqV0M4m0R-Vr5jGRYZBkP5zy7fQppujgZOIj9dprTL4kkZEo9VElEIlho_ABOpVl_Rz0rB45BmwV9XovlSvN2WRZvZVq0Hv6MzyPD9EZsDpfwm7l4yyfHs0mgmrdyqj-ddfOlAuIEqSKCLynYKJ4vcpLGd-0orK1SG_bCkO0tcGu4gQEJTBv0COmsRmn6SIubkbVsbKOe5OBflpOJRLq5Qs8qitbcicU5n0tijIsrR1ocNCtAWfg2HAeoZ- -UDF7sRtv3Y4jqmNuSMhku9Vl9Ihl4iLI-r3aegJBqimNMcEcsctjm2VtIIXDtHGiUtSc2LRm0FRPgqwkDY3lA3vljHnznQQY0as2ypAFTt1q8_2AxfYsoUBzFHdPhOowXtYuKFdqwioHkjMvIetCamOMdmHnLQ68EFkwdd87NGsVJ22FwkuNANM7Ba7MSyyP2dI1A00sk-OAe7cbiczmHqnpGKgjyfGfIAcKyYw8-ySNsRV1GthHLkrRbjZJYQD8e2uBQsYhfzMiTF9b0c6FDfTggtoa4LRQOME-JbJ_ucXeiLEBRXtSbAx3bdHiCUSI6o9jnjxtXeagqsqGwQvMtUNaKFwUuG4xrK1zO3ksZGN_9eLLrERj1gvvPkASzEaOF1umvCDpoeT1EQHgXJAoihO7jHIJKV-DkQkPQ5G63jQKAl2gN-SeFBwgELAW6tGKrrBfutseG2cmmbqsjM5iZZMgF3Uu9oSVfe4UIxDh6zGsqvA6ZPCnzrO5HKs0HmtzLjdOXZN6MAhDF-BFFz7YUxT3Ye9d3BvtdDZDP-c26BA8AVCmCSGDYwWZXk2nnofrK3Pc1OgMk07ZbKBa0PLlCJ5Z-xbP_-F-XtIqClhl26_elr-_miYTtoQX5jCDopYPge9Ns_vLvSCUsPCaWgndKYVZS6jSBEWkvpom4trqD5IVtP__P53_WK0]--></g></svg>