<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1221px" preserveAspectRatio="none" style="width:1088px;height:1221px;background:#FFFFFF;" version="1.1" viewBox="0 0 1088 1221" width="1088px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="234" x="423" y="27.9951">Pay Multiple Transaction Flow</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="285" x="397.5" y="44.292">(Happy Path - Successful Execution)</text><rect fill="#FFFFFF" height="987.1875" style="stroke:#181818;stroke-width:1.0;" width="10" x="51" y="144.8906"/><rect fill="#00EE20" height="957.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="469" y="166.0234"/><rect fill="#FFFFFF" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="342.5" x="437.5" y="370.0859"/><rect fill="#FFFFFF" height="132.3359" style="stroke:#000000;stroke-width:1.5;" width="468.5" x="437.5" y="542.75"/><rect fill="#FFFFFF" height="56.9375" style="stroke:none;stroke-width:1.0;" width="468.5" x="437.5" y="618.1484"/><rect fill="#FFFFFF" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="406.5" x="437.5" y="773.3516"/><rect fill="#FFFFFF" height="82.5313" style="stroke:#000000;stroke-width:1.5;" width="633.5" x="437.5" y="1012.4141"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="56" x2="56" y1="134.8906" y2="1141.0781"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="473.5" x2="473.5" y1="134.8906" y2="1141.0781"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="844" x2="844" y1="134.8906" y2="1141.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="5" y="131.5889">Fisher or User</text><ellipse cx="56" cy="67.0938" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M56,75.0938 L56,102.0938 M43,83.0938 L69,83.0938 M56,102.0938 L43,117.0938 M56,102.0938 L69,117.0938 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="5" y="1153.0732">Fisher or User</text><ellipse cx="56" cy="1164.875" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M56,1172.875 L56,1199.875 M43,1180.875 L69,1180.875 M56,1199.875 L43,1214.875 M56,1199.875 L69,1214.875 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#00EE20" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="447.5" y="103.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="454.5" y="123.5889">EVVM</text><rect fill="#00EE20" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="447.5" y="1140.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="454.5" y="1160.0732">EVVM</text><rect fill="#00CEEE" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="792" y="103.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="799" y="123.5889">NameService</text><rect fill="#00CEEE" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="792" y="1140.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="799" y="1160.0732">NameService</text><rect fill="#FFFFFF" height="987.1875" style="stroke:#181818;stroke-width:1.0;" width="10" x="51" y="144.8906"/><rect fill="#00EE20" height="957.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="469" y="166.0234"/><polygon fill="#181818" points="457,162.0234,467,166.0234,457,170.0234,461,166.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="61" x2="463" y1="166.0234" y2="166.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="68" y="160.9575">payMultiple(PayData[])</text><path d="M345,179.0234 L345,249.0234 L602,249.0234 L602,189.0234 L592,179.0234 L345,179.0234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M592,179.0234 L592,189.0234 L602,189.0234 L592,179.0234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="351" y="196.0903">Initialize:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="351" y="211.2231">successfulTransactions = 0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="351" y="226.356">failedTransactions = 0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="351" y="241.4888">results = new bool[](payData.length)</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1081" x="0" y="275.1211"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1081" y1="275.1211" y2="275.1211"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1081" y1="278.1211" y2="278.1211"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="131" x="475" y="264.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112" x="481" y="280.6216">Begin For Loop</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="330.4531" y2="330.4531"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="330.4531" y2="343.4531"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="343.4531" y2="343.4531"/><polygon fill="#181818" points="490,339.4531,480,343.4531,490,347.4531,486,343.4531" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="486" y="325.3872">verifyMessageSignedForPay(PayData[i])</text><path d="M753,302.6875 L753,357.6875 L929,357.6875 L929,312.6875 L919,302.6875 L753,302.6875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M919,302.6875 L919,312.6875 L929,312.6875 L919,302.6875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="759" y="319.7544">CRITICAL: Each payment</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="759" y="334.8872">has its own signature</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="759" y="350.02">Invalid sig = full revert</text><path d="M437.5,370.0859 L501.5,370.0859 L501.5,377.2188 L491.5,387.2188 L437.5,387.2188 L437.5,370.0859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="342.5" x="437.5" y="370.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="452.5" y="383.1528">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="228" x="516.5" y="382.2964">[payData[i].executor != address(0)]</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="408.3516" y2="408.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="408.3516" y2="421.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="421.3516" y2="421.3516"/><polygon fill="#181818" points="490,417.3516,480,421.3516,490,425.3516,486,421.3516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="486" y="403.2856">verify if msg.sender == payData[i].executor</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="457.4844" y2="457.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="457.4844" y2="470.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="470.4844" y2="470.4844"/><polygon fill="#181818" points="490,466.4844,480,470.4844,490,474.4844,486,470.4844" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="486" y="452.4185">verify nonce based on priorityFlag</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="514.75" y2="514.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="514.75" y2="527.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="527.75" y2="527.75"/><polygon fill="#181818" points="490,523.75,480,527.75,490,531.75,486,527.75" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="486" y="494.5513">update nonce mapping</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="486" y="509.6841">(async or sync based on priorityFlag)</text><path d="M437.5,542.75 L501.5,542.75 L501.5,549.8828 L491.5,559.8828 L437.5,559.8828 L437.5,542.75 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="132.3359" style="stroke:#000000;stroke-width:1.5;" width="468.5" x="437.5" y="542.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="452.5" y="555.8169">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112" x="516.5" y="554.9604">[to_identity != ""]</text><polygon fill="#181818" points="832,577.0156,842,581.0156,832,585.0156,836,581.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="838" y1="581.0156" y2="581.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="486" y="575.9497">verifyStrictAndGetOwnerOfIdentity(to_identity)</text><polygon fill="#181818" points="490,606.1484,480,610.1484,490,614.1484,486,610.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="843" y1="610.1484" y2="610.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="496" y="605.0825">return valid address</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="437.5" x2="906" y1="619.1484" y2="619.1484"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116" x="442.5" y="629.3589">[to_identity == ""]</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="654.0859" y2="654.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="654.0859" y2="667.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="667.0859" y2="667.0859"/><polygon fill="#181818" points="490,663.0859,480,667.0859,490,671.0859,486,667.0859" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="486" y="649.02">use to_address</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="703.2188" y2="703.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="703.2188" y2="716.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="716.2188" y2="716.2188"/><polygon fill="#181818" points="490,712.2188,480,716.2188,490,720.2188,486,716.2188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="486" y="698.1528">verify balance (amount + priorityFee)</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="745.3516" y2="745.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="745.3516" y2="758.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="758.3516" y2="758.3516"/><polygon fill="#181818" points="490,754.3516,480,758.3516,490,762.3516,486,758.3516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="486" y="740.2856">_updateBalance(from, to, token, amount)</text><path d="M437.5,773.3516 L501.5,773.3516 L501.5,780.4844 L491.5,790.4844 L437.5,790.4844 L437.5,773.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="406.5" x="437.5" y="773.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="452.5" y="786.4185">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="320" x="516.5" y="785.562">[priorityFee &gt; 0 &amp;&amp; isAddressStaker(msg.sender)]</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="811.6172" y2="811.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="811.6172" y2="824.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="824.6172" y2="824.6172"/><polygon fill="#181818" points="490,820.6172,480,824.6172,490,828.6172,486,824.6172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="486" y="806.5513">_updateBalance(from, msg.sender, token, priorityFee)</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="875.8828" y2="875.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="875.8828" y2="888.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="888.8828" y2="888.8828"/><polygon fill="#181818" points="490,884.8828,480,888.8828,490,892.8828,486,888.8828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="486" y="855.6841">successfulTransactions++</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="486" y="870.8169">results[i] = true</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1081" x="0" y="917.4492"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1081" y1="917.4492" y2="917.4492"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1081" y1="920.4492" y2="920.4492"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="117" x="482" y="906.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="488" y="922.9497">End For Loop</text><path d="M386,945.0156 L386,1000.0156 L562,1000.0156 L562,955.0156 L552,945.0156 L386,945.0156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M552,945.0156 L552,955.0156 L562,955.0156 L552,945.0156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="392" y="962.0825">Partial success allowed:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="392" y="977.2153">Some payments can fail</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="392" y="992.3481">while others succeed</text><path d="M437.5,1012.4141 L501.5,1012.4141 L501.5,1019.5469 L491.5,1029.5469 L437.5,1029.5469 L437.5,1012.4141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="82.5313" style="stroke:#000000;stroke-width:1.5;" width="633.5" x="437.5" y="1012.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="452.5" y="1025.481">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="197" x="516.5" y="1024.6245">[isAddressStaker(msg.sender)]</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="1062.3125" y2="1062.3125"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="1062.3125" y2="1075.3125"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="1075.3125" y2="1075.3125"/><polygon fill="#181818" points="490,1071.3125,480,1075.3125,490,1079.3125,486,1075.3125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="486" y="1057.2466">_giveReward(msg.sender, successfulTransactions)</text><path d="M818,1034.5469 L818,1089.5469 L1051,1089.5469 L1051,1044.5469 L1041,1034.5469 L818,1034.5469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1041,1034.5469 L1041,1044.5469 L1051,1044.5469 L1041,1034.5469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="824" y="1051.6138">Reward multiplied by</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="824" y="1066.7466">successful transaction count</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="824" y="1081.8794">Higher efficiency = more rewards</text><polygon fill="#181818" points="72,1119.0781,62,1123.0781,72,1127.0781,68,1123.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="66" x2="473" y1="1123.0781" y2="1123.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="384" x="78" y="1118.0122">return (successfulTransactions, failedTransactions, results[])</text><!--SRC=[bLHTJzim57tthxWh4ah5nwez8ee4NO1AC11bl524tFWcjN3io7RQPTF- -wwJVaKD3tkecZZtuvnphy-vyvN22oPCKkQeFVnX05Sy-RYnfjHYP9Ini9nBZ-mlE_-wYcOyyNJUkvPkZXReyQT3smFkeAG7O0MtNYQou5In5x-ytDVVSB78uM0mYEDlWtR83vxZ1Er29bX7vjg5m54SnunvwHN28w_WlbHU5lJoRBbs148Q3TVABASwkkL5KL6KdyC9JCeaGUVIKa7y2vCo1FPhs7B1FTOeMGtrvAA1TGO5hzRr8shsdNl- -jRVvhJGCsteo2oemYfzhAMNNCdVU3RLRjD_1wc38GocEkLIeTW_j-YeVNZHk8IPCUhrBIeQ8ASATURdH64uX2lC9D4crU-CAM0uPAp6iAL2i6HQtHC2dk54PXe5XHEf3J59p6eALcPpJocZf_7pU7HvTmOnJ-P1ZB0EKpsdQKX2PPOQ75NYlhGurMEz8AuY715Wugd08hNr9BBoS52l31IRRgTOZu4mVna25uB8kcZGfsK3w0GFCeNSPQSEjI2HYNP7CKOVFo4FskW4OSOT2g0jAQmqLlhgMl5iBwKiH9XmavBJ8acTqKfnL-aaR7Vztrcgt-BhpRiK91jz33nxlHQ_iDHhU1DlPU8ljRX1_x3KQ1_IyIepsgdI21GIJxPeBT8CD3G3M6d9K3diWZ7SWx7cxEh0JVxdIiwuua6OYEVa2HwEjWeWzlUotXirhvgiABKcFwPEuVU1-XYQActXTWh21GpWy12aksoWJJp_G1jjbw5pQpgxRdCstLlGkqXtNzsZeyq5fGMabVUsnFesnbgqx-AUCpm6f-DgNHcu8iT2GJOnCJckhvg3X6i8vZ3L90gPdF5ahgv9Gz7Iwt_5oUG2dt39hOXsDUdcsfHekKEJ2tdZZvBkmQpQTJcIOsl8IPZlLDzIRX0XJSdcKIUqYv0RIqNhOgsL8wYr6s-ME-g6TWpxxdaCwy6Gfp61BSDc_m00]--></g></svg>